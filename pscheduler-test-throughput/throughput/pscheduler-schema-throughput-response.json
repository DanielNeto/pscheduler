{
    "title": "pScheduler Throughput Response Schema",
    "type": "object",
    "additionalProperties": false,
    "definitions": {
        "throughput-data": {
            "type": "object",
            "id": "#throughput-data",
            "additionalProperties": false,
            "properties": {
                "throughput-bits": {
                    "description": "Summarized view of the overall throughput rate in bits/second",
                    "type": "number"
                },
                "throughput-bytes": {
                    "description": "Summarized view of the overall throughput rate in bytes/second",
                    "type": "number"
                },
                "sent": {
                    "description": "The ID of the stream, most relevant when running parallel streams",
                    "type": ["integer", "null"]
                },
                "lost": {
                    "description": "Summarized view of the overall lost packets",
                    "type": ["integer", "null"]
                },
                "jitter": {
                    "description": "Summarized view of the jitter",
                    "type": ["integer", "null"]
                },
                "stream_id": {
                    "description": "The ID of the stream, most relevant when running parallel streams",
                    "type": "number"
                },
                "start": {
                    "description": "The relative start time of this reporting interval, relative to the start of the test",
                    "type": "number"
                },
                "end": {
                    "description": "The relative end time of this reporting interval, relative to the start of the test",
                    "type": "number"
                }
            }
        }
    },
    "properties": {
        "schema": {
            "description": "The version of the schema",
            "type": "integer",
            "minimum": 1
        },
        "succeeded": {
            "description": "Indicates if the test ran successfully",
            "type": "boolean"
        },
        "diag": {
            "description": "Raw output from the underlying tool",
            "type": "string"
        },
        "intervals": {
            "description": "The breakdown of intervals of the test",
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "streams": {
                        "description": "An array of information about each of the streams during this interval",
                        "type": "array",
                        "minimum": 1,
                        "items": {
                            "$ref": "#/definitions/throughput-data"
                        }
                    },
                    "summary": {
                        "description": "An object describing the summary of each of the streams for this interval",
                        "$ref": "#/definitions/throughput-data",
                        "type": "object"
                    }
                },
                "minimum": 1
            }
        },
        "summary": {
            "description": "An object containing summaries of each stream and the test as a whole",
            "type": "object",
            "properties": {
                "streams": {
                    "description": "An array of objects containing summarized information for all streams for a given start/end period",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/throughput-data"
                    }
                },
                "summary": {
                    "description": "An object containing summary information for the entire test",
                    "$ref": "#/definitions/throughput-data"
                }
            }
        }
    }
}
